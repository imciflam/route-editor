(this["webpackJsonproute-editor"]=this["webpackJsonproute-editor"]||[]).push([[0],{20:function(e,t,r){e.exports=r(44)},44:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(8),o=r.n(i),c=r(2),u=r(3),s=r(5),l=r(4),d=r(1),p=function(e){var t=e.name,r=e.onDragOver,n=e.onDragEnd,i=e.onDragStart,o=e.onMarkerDelete;return a.a.createElement("li",{onDragOver:r},a.a.createElement("div",{draggable:!0,onDragStart:i,onDragEnd:n},t,a.a.createElement("span",{onClick:o}," \u232b")))},f=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onDragStart=function(t,r){e.props.setdragged(r),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",t.target.parentNode),t.dataTransfer.setDragImage(t.target.parentNode,20,20)},e.onDragOver=function(t){t!==e.props.dragged&&e.props.changeOrder(t,e.props.dragged)},e.onDragEnd=function(){return e.props.setdragged(null)},e.removeMarker=function(t){return e.props.removeMarker(t)},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("ul",null,(this.props.markers||[]).map((function(t){return a.a.createElement(p,{key:t.id,name:t.name,onDragOver:function(){return e.onDragOver(t.id)},onDragStart:function(r){return e.onDragStart(r,t.id)},onDragEnd:e.onDragEnd,onMarkerDelete:function(){return e.removeMarker(t.id)}})})))}}]),r}(n.Component),g=Object(d.b)((function(e){return{dragged:e.dragged}}),(function(e){return{removeMarker:function(t){return e(function(e){return{type:"REMOVE_MARKER",id:e}}(t))},changeOrder:function(t,r){return e(function(e,t){return{type:"CHANGE_ORDER",afterId:e,markerId:t}}(t,r))},setdragged:function(t){return e({type:"SET_DRAGGED_ITEM",dragged:t})}}}))(f),m=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).handleChange=function(e){return n.setState({newMarker:e.target.value})},n.createMarker=function(e){e.preventDefault();var t=Math.floor(1e3*Math.random());n.props.createMarker(t,n.state.newMarker,n.props.center),n.setState({newMarker:""})},n.state={newMarker:""},n}return Object(u.a)(r,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.createMarker},a.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.newMarker,required:!0}),a.a.createElement("input",{type:"submit"}))}}]),r}(n.Component),h=Object(d.b)((function(e){return{center:e.center}}),(function(e){return{createMarker:function(t,r,n){return e(function(e,t,r){return{type:"ADD_MARKER",id:e,name:t,position:r}}(t,r,n))}}}))(m),k=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(h,null),a.a.createElement(g,{markers:this.props.markers}))}}]),r}(n.Component),v=Object(d.b)((function(e){return{markers:e.markers}}))(k),E=r(11),b=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).onMarkerClick=function(e,t,r){return n.setState({activeMarker:t})},n.onMarkerDragEnd=function(e,t){var r=e.latLng,a=r.lat(),i=r.lng();n.props.changePosition(t,{lat:a,lng:i})},n.deactivateMarker=function(){n.setState({activeMarker:null})},n.onCenterChanged=function(e,t){return n.props.changeCenter(t.center)},n.state={activeMarker:null,id:null},n}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement(E.Map,{google:this.props.google,zoom:10,containerStyle:{width:"60%"},clickableIcons:!0,initialCenter:this.props.center,onCenterChanged:this.onCenterChanged},(this.props.markers||[]).map((function(t){return a.a.createElement(E.Marker,{id:t.id,label:t.name,name:t.name,key:t.id,onDragend:function(r,n,a){return e.onMarkerDragEnd(a,t.id)},draggable:!0,position:t.position,onClick:e.onMarkerClick})})),a.a.createElement(E.InfoWindow,{marker:this.state.activeMarker,onClose:this.deactivateMarker,visible:null!==this.state.activeMarker},this.state.activeMarker?this.state.activeMarker.name:""),a.a.createElement(E.Polyline,{path:this.props.lineCoordinates,geodesic:!0}))}}]),r}(n.Component),O=Object(E.GoogleApiWrapper)({apiKey:"AIzaSyBWohqCXZMM2XZgyuZowi9GXexqwNBIctc"})(b),M=Object(d.b)(null,(function(e){return{changePosition:function(t,r){return e(function(e,t){return{type:"CHANGE_POSITION",id:e,position:t}}(t,r))},changeCenter:function(t){var r=t.lat,n=t.lng;return e(function(e,t){return{type:"CHANGE_CENTER",lat:e,lng:t}}(r(),n()))}}}))(O),C=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.a.createElement(M,{markers:this.props.markers,lineCoordinates:this.props.markers.map((function(e){return e.position})),center:this.props.initialCenter}),a.a.createElement(v,{markers:this.props.markers}))}}]),r}(n.Component),j=Object(d.b)((function(e){return{markers:e.markers,initialCenter:e.initialCenter}}))(C),D=r(9),y=r(10),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:37.775,lng:-122.405},t=arguments.length>1?arguments[1]:void 0;if(!t)return e;switch(t.type){case"CHANGE_CENTER":return Object(y.a)(Object(y.a)({},e),{},{lat:t.lat,lng:t.lng});default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRAGGED_ITEM":return t.dragged;default:return e}},w=r(12),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MARKER":return[].concat(Object(w.a)(e),[{id:t.id,name:t.name,position:t.position}]);case"REMOVE_MARKER":var r=e.find((function(e){return e.id===t.id})),n=e.filter((function(e){return e!==r}));return n;case"CHANGE_ORDER":var a=e.find((function(e){return e.id===t.markerId})),i=e.indexOf(e.find((function(e){return e.id===t.afterId}))),o=e.filter((function(e){return e.id!==t.markerId}));return[].concat(Object(w.a)(o.slice(0,i)),[a],Object(w.a)(o.slice(i)));case"CHANGE_POSITION":return e.map((function(e){return e.id===t.id?Object(y.a)(Object(y.a)({},e),{},{position:t.position}):e}));default:return e}},S=Object(D.b)({markers:I,dragged:R,center:A}),_=Object(D.c)(S);o.a.render(a.a.createElement(d.a,{store:_},a.a.createElement(j,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d8d2f71c.chunk.js.map